# Project Title: OpenVPNView

## Overview
OpenVPNView is a web-based tool designed to connect and interact with an OpenVPN management server. It provides functionalities to retrieve and display the status of the OpenVPN server and its clients.

## Features
- Connects to an OpenVPN management server using a socket.
- Retrieves and displays OpenVPN status and information.
- Includes WHOIS lookup for domain name registration information by IP address.
- Web-based interface with a user-friendly design.
- Uses jQuery and Thickbox for enhanced UI interactions.

## Installation Instructions
1. **Clone the repository:**
   ```bash
   git clone https://github.com/Yuriy/ovpnview.git
   cd ovpnview
   ```

2. **Install the required Python packages:**
   ```bash
   pip install -r requirements.txt
   ```

3. **Setup the configuration:**
   Update the `main.py` file with your OpenVPN server details:
   ```python
   username = "admin"
   password = "admin"
   host="192.168.0.1"
   port=5555
   vpnpasswd="OpenVPNraCK"
   version=4
   ```

4. **Run the application:**
   ```bash
   python main.py
   ```

## Usage Examples
### Viewing OpenVPN Status
Navigate to the main page to view the status of your OpenVPN. The main page is generated by the `main.py` script and will display real-time information fetched from the OpenVPN management server.

Example HTML snippet from `main_page` variable in `main.py`:
```html
 <html>
 <head><title>OpenVPN status</title>
 <meta http-equiv="Content-Type" content="text/html"; charset="iso-8859-1"/>
 <link rel="icon" href="../img/whois.png" type="image/png">
 <meta name="description" content="OpenVPN status">
 <meta http-
</html>
```

### Performing WHOIS Lookup
`whois.py` provides the functionality to retrieve domain name registration information by IP address. To utilize this class:
```python
from whois import cwhois

whois_client = cwhois(server="whois.server.com", address="192.168.0.1", version="0.1")
info = whois_client.retrieve_information()
print(info)
```

## Code Summary
### Key Files and Structure:
- `connexion.py`
  - Contains the `connexion` class which handles socket creation and connection to the OpenVPN management server.
- `main.py`
  - The entry point of the application. Handles user interface and interaction with the OpenVPN server.
- `whois.py`
  - Provides WHOIS lookup capabilities.
- `js/jquery.js` and `js/thickbox.js`
  - JavaScript libraries used to enhance the web interface.

### Explanation of Key Classes and Functions:
- **`class connexion:`**
  - Manages the connection to the OpenVPN server.
  - **`__init__(self, hostname, port, password, request, version)`**
    - Initializes the connection settings.
  - **`interact(self)`**
    - Interacts with the server to fetch data.

- **`class cwhois:`**
  - Manages WHOIS lookups.
  - **`__init__(self, server, address, version)`**
    - Initializes WHOIS settings.

## Contributing Guidelines
We welcome contributions from the community. To contribute:
1. Fork the repository.
2. Create a new branch for the feature or bug fix: `git checkout -b feature-new-feature`.
3. Commit your changes: `git commit -m 'Add new feature'`.
4. Push to the branch: `git push origin feature-new-feature`.
5. Create a pull request describing your changes.

## License
OpenVPNView is licensed under the GPL License. See the LICENSE file for more information.